<head>
    <meta charset="UTF-8">
    <script>
        // Aggressively suppress all console warnings and errors
        (function() {
            const noop = function() {};
            window.console.warn = noop;
            window.console.error = noop;

            // Also suppress for dynamically created iframes (Google Translate)
            const originalCreate = document.createElement;
            document.createElement = function(tag) {
                const el = originalCreate.call(document, tag);
                if (tag.toLowerCase() === 'iframe') {
                    el.addEventListener('load', function() {
                        try {
                            if (this.contentWindow && this.contentWindow.console) {
                                this.contentWindow.console.warn = noop;
                                this.contentWindow.console.error = noop;
                            }
                        } catch(e) {}
                    });
                }
                return el;
            };
        })();

        // Prevent FOUC - show body when ready
        (function() {
            const showContent = () => {
                document.body.classList.add('loaded');
            };

            // Show content when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', showContent);
            } else {
                showContent();
            }

            // Fallback: ensure content shows even if event doesn't fire
            setTimeout(showContent, 100);
        })();
    </script>
    <base href="{{ base_url }}/">
    <link rel="preconnect" href="{{ domain }}">
    <link rel="preconnect" href="https://github.com">
    <link rel="dns-prefetch" href="https://utteranc.es">{% if page.codepen %}
    <link rel="dns-prefetch" href="https://cpwebassets.codepen.io">
    <link rel="preconnect" crossorigin="anonymous" href="https://cpwebassets.codepen.io">{% endif %}
    <title>{% include 'title.html' %}</title>
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=contain">
    <meta name="copyright" content="{{ site.meta.title }} ©{{ page.date|date_format('%Y')|default(('' ~ now.year)) }} {{ page.author|default(site.meta.author) }}">
    <meta name="author" content="{{ page.author|default(site.meta.author) }}">{% if page.banner %}
    <meta name="illustration" content="Tinashe Mugayi | Noun Project">{% endif %}
    <meta name="repository" content="{{ page.repository|default(site.meta.repository) }}">
    <meta name="date" content="{{ page.date|date_format('%B %d, %Y')|default(('' ~ now.strftime('%B %d, %Y'))) }}">
    <meta name="robots" content="index, follow">
    <meta name="generator" content="Python + Jinja2">
    <meta name="description" content="{% include 'title.html' %}">
    <meta name="license" content="{{ page.license|default(site.meta.license) }}">
    <meta name="search" content="{{ site.search_file }}">{% if page.toc %}
    <meta name="toc" content="enabled">{% endif %}
    <meta name="twitter:card" content="summary">{% if page.mermaid %}
    <meta name="mermaid" content="version={{ site.scripts.mermaid }}">{% endif %}{% if page.comments and site.comments.repo %}
    <meta name="comments-config" content="{% for key, value in site.comments.items() %}{{ key }}={{ value }}{% if not loop.last %}|{% endif %}{% endfor %}">{% endif %}
    <meta property="og:title" content="{% include 'title.html' %}">
    <meta property="og:locale" content="{{ site.meta.locale|default('en') }}">
    <meta property="og:url" content="{{ base_url }}{{ page.url }}">
    <meta property="og:description" content="{% include 'title.html' %}">
    <meta property="og:site_name" content="{{ site.meta.title }}">
    <meta property="og:type" content="website">
    <meta property="twitter:title" content="{% include 'title.html' %}">
    <link rel="icon" type="image/x-icon" href="{{ favicon }}">
    <link rel="preload" href="{{ logo }}" as="image" type="image/x-icon">
    <style>
        /* Critical CSS - Prevents FOUC during page load */
        :root {
            --c0: #1a1a1a;
            --c1: #2a2a2a;
            --c2: #858585;
            --c3: #404040;
            --c4: #e9ecef;
            --c5: #f1f3f5;
            --c6: #f8f9fa;
            --c7: #ffffff;
            --r0: #e74c3c;
            --font-basic: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html {
            font-family: var(--font-basic);
            background: var(--c7);
            color: var(--c0);
        }
        body {
            opacity: 0;
            transition: opacity 0.2s ease-in;
        }
        body.loaded {
            opacity: 1;
        }
        /* Prevent layout shift */
        main {
            min-height: 100vh;
            padding: 1rem;
        }
    </style>
    <link rel="preload" href="{{ css }}" as="style" onload="this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="{{ css }}"></noscript>
    <link rel="modulepreload" href="{{ js }}">{% for fontface in site.assets.fonts %}{% if fontface.type != "code" %}
    <link rel="preload" as="font" type="font/{{ fontface.extension }}" href="{{ asset }}/fonts/{{ fontface.name }}-{{ fontface.weight }}.{{ fontface.extension }}" crossorigin="anonymous">{% endif %}{% endfor %}
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin="anonymous">
    <link rel="preconnect" crossorigin="anonymous" href="https://translate.google.com">
    <link rel="preconnect" crossorigin="anonymous" href="https://translate.googleapis.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://translate.google.com">
    <link rel="dns-prefetch" href="https://translate.googleapis.com">
    <link rel="canonical" href="{{ base_url }}{{ page.url }}">
    <link type="application/atom+xml" rel="alternate" href="./feed.xml" title="design﹢code">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "author": {
            "@type": "Person",
            "name": "{{ site.meta.author }}"
        },
        "description": "{% if page.description %}{{ page.description }}{% else %}{{ site.meta.description|default('') }}{% endif %}",
        "headline": "{% include 'title.html' %}",
        "name": "{{ site.meta.title }}",
        "publisher": {
            "@type": "Organization",
            "logo": {
                "@type": "ImageObject",
                "url": "{{ logo }}"
            },
            "name": "{{ site.meta.author }}"
        },
        "url": "{{ base_url }}{{ page.url }}"
    }
    </script>
</head>
